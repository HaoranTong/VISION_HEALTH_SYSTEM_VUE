<!--
文件名称: data_import.html
完整存储路径: E:\DEV_CONTEXT\1_Projects\VISION_HEALTH_SYSTEM_VUE\frontend\templates\data_import.html
功能说明:
    数据导入测试页面，支持上传 Excel (.xlsx) 和 CSV (.csv) 文件，提供拖拽与文件选择功能，
    并增加数据年份选择下拉框（从 2023 至未来年份供选择）。上传后显示成功与失败记录，
    失败记录可下载查看错误详情。
使用方法:
    打开页面后，通过下拉框选择数据年份，然后选择或拖拽文件上传。
-->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数据导入</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container mt-5">
        <h1>数据导入</h1>
        <div id="uploadArea" class="border p-3 mb-3">
            <p>将文件拖放到此处或点击下方按钮选择文件</p>
            <button id="selectFileBtn" class="btn btn-primary">选择文件</button>
            <input type="file" id="fileInput" style="display: none;" multiple>
        </div>
        <div id="fileList" class="mb-3"></div>
        <select id="dataYearSelect" class="form-select mb-3">
            <option value="2023">2023</option>
            <option value="2024">2024</option>
        </select>
        <button id="uploadBtn" class="btn btn-success">上传文件</button>
        <button id="cancelBtn" class="btn btn-danger">取消</button>
        <div id="uploadStatus" class="mt-3"></div>
    </div>

    <!-- 隐藏字段存储 URL -->
    <input type="hidden" id="importStudentsUrl" value="{{ url_for('import_api.import_students') }}">

    <script src="{{ url_for('static', filename='js/data_import.js') }}"></script>
</body>
</html>